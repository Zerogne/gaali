{"version":3,"sources":["../../../../lib/data%3A3d1c3f%20%3Ctext/javascript%3E","../../../../lib/data%3A184c6c%20%3Ctext/javascript%3E","../../../../components/layout/TopBar.tsx","../../../../app/page.tsx","../../../../components/trucks/TruckSection.tsx","../../../../components/ui/table.tsx","../../../../components/layout/Sidebar.tsx","../../../../components/trucks/TruckTable.tsx","../../../../node_modules/lucide-react/src/icons/send.ts"],"sourcesContent":["/* __next_internal_action_entry_do_not_use__ [{\"4058b122e308e364a24ba05695bd0c197e19386dfe\":\"saveTruckLog\"},\"lib/api.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var saveTruckLog=/*#__PURE__*/createServerReference(\"4058b122e308e364a24ba05695bd0c197e19386dfe\",callServer,void 0,findSourceMapURL,\"saveTruckLog\");","/* __next_internal_action_entry_do_not_use__ [{\"40516e7e258a23fbfc95ed115874980e9c4dedda18\":\"sendTruckLogToCustoms\"},\"lib/api.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var sendTruckLogToCustoms=/*#__PURE__*/createServerReference(\"40516e7e258a23fbfc95ed115874980e9c4dedda18\",callServer,void 0,findSourceMapURL,\"sendTruckLogToCustoms\");","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Bell, Search, User } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\nimport { handleLogout } from \"@/lib/auth/logoutClient\"\n\ninterface UserInfo {\n  name: string\n  role: string\n}\n\nexport function TopBar() {\n  const [userInfo, setUserInfo] = useState<UserInfo | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    async function loadUserInfo() {\n      try {\n        const response = await fetch(\"/api/user\")\n        if (response.ok) {\n          const data = await response.json()\n          setUserInfo(data)\n        }\n      } catch (error) {\n        console.error(\"Error loading user info:\", error)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadUserInfo()\n  }, [])\n\n  const handleLogoutClick = async () => {\n    await handleLogout()\n  }\n\n  const getInitials = (name: string) => {\n    return name\n      .split(\" \")\n      .map((n) => n[0])\n      .join(\"\")\n      .toUpperCase()\n      .slice(0, 2)\n  }\n\n  const displayName = userInfo?.name || \"User\"\n  const displayRole = userInfo?.role || \"Worker\"\n  const initials = userInfo ? getInitials(userInfo.name) : \"U\"\n  return (\n    <header className=\"h-16 border-b border-gray-200 bg-white flex items-center justify-between px-6 lg:px-8 sticky top-0 z-50\">\n      <div className=\"flex items-center gap-4 flex-1\">\n        <div className=\"relative w-full max-w-md\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\" />\n          <Input\n            placeholder=\"Search by plate number, driver, or cargo...\"\n            className=\"pl-10 bg-gray-50 border-gray-200 focus:bg-white focus:border-blue-500 transition-colors\"\n          />\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-3\">\n        <Button \n          variant=\"ghost\" \n          size=\"icon\" \n          className=\"relative hover:bg-gray-100 transition-colors\"\n        >\n          <Bell className=\"w-5 h-5 text-gray-600\" />\n          <span className=\"absolute top-1.5 right-1.5 w-2 h-2 bg-orange-500 rounded-full ring-2 ring-white\" />\n        </Button>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button \n              variant=\"ghost\" \n              className=\"gap-2 px-2 hover:bg-gray-100 transition-colors\"\n            >\n              <Avatar className=\"w-8 h-8 ring-2 ring-blue-100\">\n                <AvatarFallback className=\"bg-blue-600 text-white text-sm font-semibold\">\n                  {isLoading ? \"...\" : initials}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"text-left hidden md:block\">\n                <p className=\"text-sm font-semibold text-gray-900\">\n                  {isLoading ? \"Loading...\" : displayName}\n                </p>\n                <p className=\"text-xs text-gray-500\">\n                  {isLoading ? \"...\" : displayRole}\n                </p>\n              </div>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\" className=\"w-56 bg-white\">\n            <DropdownMenuLabel>My Account</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem className=\"cursor-pointer\">\n              <User className=\"w-4 h-4 mr-2\" />\n              Profile\n            </DropdownMenuItem>\n            <DropdownMenuItem className=\"cursor-pointer\">Settings</DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem \n              className=\"cursor-pointer text-red-600 focus:text-red-600\"\n              onClick={handleLogoutClick}\n            >\n              Log out\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </header>\n  )\n}\n\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Sidebar } from \"@/components/layout/Sidebar\"\nimport { TopBar } from \"@/components/layout/TopBar\"\nimport { AlertBanner } from \"@/components/layout/AlertBanner\"\nimport { SummaryCards } from \"@/components/layout/SummaryCards\"\nimport { TruckSection } from \"@/components/trucks/TruckSection\"\nimport { TruckTable } from \"@/components/trucks/TruckTable\"\nimport { getTruckLogs } from \"@/lib/api\"\nimport type { TruckLog } from \"@/lib/types\"\n\nexport default function DashboardPage() {\n  const router = useRouter()\n  const [logs, setLogs] = useState<TruckLog[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [isCheckingAuth, setIsCheckingAuth] = useState(true)\n\n  // Check authentication on mount\n  useEffect(() => {\n    async function checkAuth() {\n      try {\n        const response = await fetch(\"/api/user\")\n        if (!response.ok) {\n          // Not authenticated, redirect to login\n          router.push(\"/login\")\n          return\n        }\n        setIsCheckingAuth(false)\n      } catch (error) {\n        console.error(\"Auth check error:\", error)\n        router.push(\"/login\")\n      }\n    }\n\n    checkAuth()\n  }, [router])\n\n  // Load company-scoped logs on mount (only if authenticated)\n  useEffect(() => {\n    if (isCheckingAuth) return // Wait for auth check\n\n    async function loadLogs() {\n      try {\n        setIsLoading(true)\n        // Get first page of logs (pagination support)\n        const result = await getTruckLogs(1, 50)\n        setLogs(result.logs)\n      } catch (error) {\n        console.error(\"Error loading logs:\", error)\n        // If error loading logs, might be auth issue, redirect to login\n        if (error instanceof Error && error.message.includes(\"redirect\")) {\n          router.push(\"/login\")\n        }\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadLogs()\n  }, [isCheckingAuth, router])\n\n  const handleSave = async (log: TruckLog) => {\n    // Add to local state immediately for optimistic UI\n    setLogs((prev) => [log, ...prev])\n    \n    // Reload from server to ensure consistency\n    try {\n      const result = await getTruckLogs(1, 50)\n      setLogs(result.logs)\n    } catch (error) {\n      console.error(\"Error reloading logs:\", error)\n    }\n  }\n\n  const handleSend = async (logId: string) => {\n    // Update local state immediately for optimistic UI\n    setLogs((prev) =>\n      prev.map((log) =>\n        log.id === logId ? { ...log, sentToCustoms: true } : log\n      )\n    )\n    \n    // Reload from server to ensure consistency\n    try {\n      const result = await getTruckLogs(1, 50)\n      setLogs(result.logs)\n    } catch (error) {\n      console.error(\"Error reloading logs:\", error)\n    }\n  }\n\n  // Show loading state while checking authentication\n  if (isCheckingAuth) {\n    return (\n      <div className=\"flex h-screen bg-gray-50 items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      <Sidebar />\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        <TopBar />\n        <main className=\"flex-1 overflow-auto\">\n          <div className=\"max-w-[1920px] mx-auto p-6 lg:p-8 space-y-8\">\n            {/* Header */}\n            <div className=\"space-y-2\">\n              <h1 className=\"text-3xl font-bold tracking-tight text-gray-900\">Dashboard Overview</h1>\n              <p className=\"text-gray-600\">Monitor truck weighing operations and license plate recognition in real-time</p>\n            </div>\n            \n            {/* Summary Cards */}\n            \n\n            {/* Truck IN and OUT Sections */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8\">\n              <TruckSection direction=\"IN\" onSave={handleSave} onSend={handleSend} />\n              <TruckSection direction=\"OUT\" onSave={handleSave} onSend={handleSend} />\n            </div>\n\n            {/* History Table */}\n            <TruckTable \n              logs={logs} \n              onSend={handleSend}\n              onUpdate={() => {\n                // Reload logs after update\n                getTruckLogs(1, 50).then(({ logs }) => setLogs(logs)).catch(console.error)\n              }}\n            />\n          </div>\n        </main>\n      </div>\n    </div>\n  )\n}\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { FilterableSelect } from \"@/components/ui/filterable-select\"\nimport { Camera, CheckCircle2, Clock, Zap, Loader2 } from \"lucide-react\"\nimport type { Direction, TruckLog } from \"@/lib/types\"\nimport { saveTruckLog, sendTruckLogToCustoms } from \"@/lib/api\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { ProductManager } from \"@/components/products/ProductManager\"\nimport { TransportCompanyManager } from \"@/components/transport/TransportCompanyManager\"\nimport { DriverManager } from \"@/components/drivers/DriverManager\"\nimport { OrganizationManager } from \"@/components/organizations/OrganizationManager\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport type { TransportCompany, Organization, Driver, TransportType } from \"@/lib/types\"\n\ninterface Product {\n  id: string\n  value: string\n  label: string\n  isCustom: boolean\n}\n\ninterface TruckSectionProps {\n  direction: Direction\n  onSave: (log: TruckLog) => void\n  onSend: (logId: string) => void\n}\n\nexport function TruckSection({ direction, onSave, onSend }: TruckSectionProps) {\n  const { toast } = useToast()\n  const [isSaving, setIsSaving] = useState(false)\n  const [isSending, setIsSending] = useState(false)\n  const [savedLogId, setSavedLogId] = useState<string | null>(null)\n  const [errors, setErrors] = useState<Record<string, string>>({})\n  const [products, setProducts] = useState<Product[]>([])\n  const [isLoadingProducts, setIsLoadingProducts] = useState(true)\n  const [transportCompanies, setTransportCompanies] = useState<TransportCompany[]>([])\n  const [isLoadingCompanies, setIsLoadingCompanies] = useState(true)\n  const [drivers, setDrivers] = useState<Driver[]>([])\n  const [isLoadingDrivers, setIsLoadingDrivers] = useState(true)\n  const [senderOrganizations, setSenderOrganizations] = useState<Organization[]>([])\n  const [receiverOrganizations, setReceiverOrganizations] = useState<Organization[]>([])\n  const [isLoadingOrganizations, setIsLoadingOrganizations] = useState(true)\n\n  // Form state\n  const [plate, setPlate] = useState(\"Б1234АВ\")\n  const [driverId, setDriverId] = useState<string>(\"\")\n  const [driverName, setDriverName] = useState(\"\") // Fallback for manual entry\n  const [cargoType, setCargoType] = useState(\"\")\n  const [weight, setWeight] = useState(\"\")\n  const [comments, setComments] = useState(\"\")\n  const [origin, setOrigin] = useState(\"\")\n  const [destination, setDestination] = useState(\"\")\n  const [senderOrganizationId, setSenderOrganizationId] = useState<string>(\"\")\n  const [receiverOrganizationId, setReceiverOrganizationId] = useState<string>(\"\")\n  const [transportCompanyId, setTransportCompanyId] = useState<string>(\"\")\n  const [transportType, setTransportType] = useState<TransportType | \"\">(\"\")\n  const [sealNumber, setSealNumber] = useState(\"\")\n  const [hasTrailer, setHasTrailer] = useState(false)\n  const [trailerPlate, setTrailerPlate] = useState(\"\")\n\n  // Load all data on mount\n  useEffect(() => {\n    async function loadData() {\n      // Load products\n      try {\n        setIsLoadingProducts(true)\n        const response = await fetch(\"/api/products\")\n        if (response.ok) {\n          const data = await response.json()\n          setProducts(data)\n        }\n      } catch (error) {\n        console.error(\"Error loading products:\", error)\n      } finally {\n        setIsLoadingProducts(false)\n      }\n\n      // Load transport companies\n      try {\n        setIsLoadingCompanies(true)\n        const response = await fetch(\"/api/transport-companies\")\n        if (response.ok) {\n          const data = await response.json()\n          setTransportCompanies(data)\n        }\n      } catch (error) {\n        console.error(\"Error loading transport companies:\", error)\n      } finally {\n        setIsLoadingCompanies(false)\n      }\n\n      // Load drivers\n      try {\n        setIsLoadingDrivers(true)\n        const response = await fetch(\"/api/drivers\")\n        if (response.ok) {\n          const data = await response.json()\n          setDrivers(data)\n        }\n      } catch (error) {\n        console.error(\"Error loading drivers:\", error)\n      } finally {\n        setIsLoadingDrivers(false)\n      }\n\n      // Load sender organizations\n      try {\n        setIsLoadingOrganizations(true)\n        const senderResponse = await fetch(\"/api/organizations?type=sender\")\n        if (senderResponse.ok) {\n          const senderData = await senderResponse.json()\n          setSenderOrganizations(senderData)\n        }\n      } catch (error) {\n        console.error(\"Error loading sender organizations:\", error)\n      }\n\n      // Load receiver organizations\n      try {\n        const receiverResponse = await fetch(\"/api/organizations?type=receiver\")\n        if (receiverResponse.ok) {\n          const receiverData = await receiverResponse.json()\n          setReceiverOrganizations(receiverData)\n        }\n      } catch (error) {\n        console.error(\"Error loading receiver organizations:\", error)\n      } finally {\n        setIsLoadingOrganizations(false)\n      }\n    }\n\n    loadData()\n  }, [])\n\n  const handleProductAdded = () => {\n    async function reloadProducts() {\n      try {\n        const response = await fetch(\"/api/products\")\n        if (response.ok) {\n          const data = await response.json()\n          setProducts(data)\n        }\n      } catch (error) {\n        console.error(\"Error reloading products:\", error)\n      }\n    }\n    reloadProducts()\n  }\n\n  const handleCompanyAdded = () => {\n    async function reloadCompanies() {\n      try {\n        const response = await fetch(\"/api/transport-companies\")\n        if (response.ok) {\n          const data = await response.json()\n          setTransportCompanies(data)\n        }\n      } catch (error) {\n        console.error(\"Error reloading companies:\", error)\n      }\n    }\n    reloadCompanies()\n  }\n\n  const handleDriverAdded = () => {\n    async function reloadDrivers() {\n      try {\n        const response = await fetch(\"/api/drivers\")\n        if (response.ok) {\n          const data = await response.json()\n          setDrivers(data)\n        }\n      } catch (error) {\n        console.error(\"Error reloading drivers:\", error)\n      }\n    }\n    reloadDrivers()\n  }\n\n  const handleSenderOrganizationAdded = () => {\n    async function reloadSenderOrganizations() {\n      try {\n        const response = await fetch(\"/api/organizations?type=sender\")\n        if (response.ok) {\n          const data = await response.json()\n          setSenderOrganizations(data)\n        }\n      } catch (error) {\n        console.error(\"Error reloading sender organizations:\", error)\n      }\n    }\n    reloadSenderOrganizations()\n  }\n\n  const handleReceiverOrganizationAdded = () => {\n    async function reloadReceiverOrganizations() {\n      try {\n        const response = await fetch(\"/api/organizations?type=receiver\")\n        if (response.ok) {\n          const data = await response.json()\n          setReceiverOrganizations(data)\n        }\n      } catch (error) {\n        console.error(\"Error reloading receiver organizations:\", error)\n      }\n    }\n    reloadReceiverOrganizations()\n  }\n\n  // Mock plate recognition data\n  const confidence = 98.5\n  const timestamp = new Date().toLocaleString(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  })\n\n  const validate = (): boolean => {\n    const newErrors: Record<string, string> = {}\n    \n    if (!plate.trim()) {\n      newErrors.plate = \"Plate number is required\"\n    }\n    if (!driverName.trim()) {\n      newErrors.driverName = \"Driver name is required\"\n    }\n    if (!cargoType.trim()) {\n      newErrors.cargoType = \"Cargo type is required\"\n    }\n    if (!weight.trim()) {\n      newErrors.weight = \"Weight is required\"\n    } else if (isNaN(Number(weight)) || Number(weight) <= 0) {\n      newErrors.weight = \"Weight must be a positive number\"\n    }\n\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSave = async () => {\n    // Early return if already saving (double-click protection)\n    if (isSaving) {\n      return\n    }\n\n    if (!validate()) {\n      return\n    }\n\n    setIsSaving(true)\n    try {\n      // Get driver name from selected driver or use manual entry\n      const selectedDriver = driverId ? drivers.find(d => d.id === driverId) : null\n      const finalDriverName = selectedDriver?.name || driverName.trim()\n\n      const log = await saveTruckLog({\n        direction,\n        plate: plate.trim(),\n        driverId: driverId || undefined,\n        driverName: finalDriverName,\n        cargoType: cargoType.trim(),\n        weightKg: Number(weight),\n        comments: comments.trim() || undefined,\n        origin: origin.trim() || undefined,\n        destination: destination.trim() || undefined,\n        senderOrganizationId: senderOrganizationId || undefined,\n        receiverOrganizationId: receiverOrganizationId || undefined,\n        transportCompanyId: transportCompanyId || undefined,\n        transportType: transportType || undefined,\n        sealNumber: sealNumber.trim() || undefined,\n        hasTrailer: hasTrailer || undefined,\n        trailerPlate: hasTrailer ? (trailerPlate.trim() || undefined) : undefined,\n      })\n\n      setSavedLogId(log.id)\n      onSave(log)\n      \n      toast({\n        title: \"Success\",\n        description: `${direction === \"IN\" ? \"Inbound\" : \"Outbound\"} truck saved to log`,\n      })\n\n      // Reset form (but keep plate and savedLogId for sending)\n      setDriverId(\"\")\n      setDriverName(\"\")\n      setCargoType(\"\")\n      setWeight(\"\")\n      setComments(\"\")\n      setOrigin(\"\")\n      setDestination(\"\")\n      setSenderOrganizationId(\"\")\n      setReceiverOrganizationId(\"\")\n      setTransportCompanyId(\"\")\n      setTransportType(\"\")\n      setSealNumber(\"\")\n      setHasTrailer(false)\n      setTrailerPlate(\"\")\n      setErrors({})\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to save truck log\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  // Reset savedLogId when form fields change (user is entering new data)\n  const handleFieldChange = (setter: (value: string) => void, value: string) => {\n    setter(value)\n    if (savedLogId) {\n      setSavedLogId(null)\n    }\n  }\n\n  const handleSend = async () => {\n    // Early return if already sending (double-click protection)\n    if (isSending) {\n      return\n    }\n\n    if (!savedLogId) {\n      toast({\n        title: \"Error\",\n        description: \"Please save the truck log first\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsSending(true)\n    try {\n      const result = await sendTruckLogToCustoms(savedLogId)\n      \n      if (result.success) {\n        onSend(savedLogId)\n        toast({\n          title: \"Success\",\n          description: \"Data successfully sent to Mongolian Customs\",\n        })\n        setSavedLogId(null) // Reset after successful send\n      } else {\n        toast({\n          title: \"Error\",\n          description: result.error || \"Failed to send to customs\",\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to send to customs\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSending(false)\n    }\n  }\n\n  const title = direction === \"IN\" ? \"Тээврийн хэрэгсэл ОРОХ – Хаалгаар орох\" : \"Тээврийн хэрэгсэл ГАРАХ – Хаалгаар гарах\"\n  const weightLabel = direction === \"IN\" ? \"Бүрэн жин (кг)\" : \"Цэвэр жин (кг)\"\n\n  return (\n    <Card className=\"border-gray-200 bg-white hover:shadow-lg transition-shadow\">\n      <CardHeader className=\"pb-4\">\n        <div className=\"flex items-center justify-between\">\n          <CardTitle className=\"flex items-center gap-2.5 text-gray-900 text-lg font-semibold\">\n            <div className=\"p-2 rounded-lg bg-blue-50\">\n              <Camera className=\"w-5 h-5 text-blue-600\" />\n            </div>\n            {title}\n          </CardTitle>\n          <Badge className=\"bg-green-50 text-green-700 border-green-200 px-2.5 py-1\">\n            <CheckCircle2 className=\"w-3.5 h-3.5 mr-1.5\" />\n            Танигдсан\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-5\">\n        {/* License Plate Recognition */}\n        <div className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\n          <h3 className=\"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n            <Camera className=\"w-4 h-4 text-blue-600\" />\n            Улсын дугаарыг бодит цагт таних\n          </h3>\n          \n          <div className=\"aspect-video bg-gray-100 rounded-lg overflow-hidden relative border-2 border-gray-200 mb-4\">\n            <img \n              src=\"/truck-front-view-license-plate.jpg\" \n              alt=\"Truck camera feed\" \n              className=\"w-full h-full object-cover\" \n            />\n            <div className=\"absolute bottom-3 left-3 right-3 bg-white/95 backdrop-blur-sm rounded-lg p-3 border border-blue-200 shadow-sm\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-xs font-medium text-gray-500 mb-1\">Танигдсан дугаар</p>\n                  <p className=\"text-xl font-mono font-bold text-blue-600 tracking-wider\">{plate}</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-xs font-medium text-gray-500 mb-1\">Найдвартай байдал</p>\n                  <div className=\"flex items-center gap-1.5\">\n                    <Zap className=\"w-4 h-4 text-green-600\" />\n                    <p className=\"text-lg font-bold text-green-600\">{confidence}%</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-3\">\n            <div className=\"bg-white rounded-lg p-3 border border-gray-200\">\n              <div className=\"flex items-center gap-2 text-gray-500 mb-1\">\n                <Clock className=\"w-4 h-4\" />\n                <span className=\"text-xs font-medium\">Авагдсан</span>\n              </div>\n              <p className=\"text-sm font-semibold text-gray-900\">{timestamp}</p>\n            </div>\n            <div className=\"bg-white rounded-lg p-3 border border-gray-200\">\n              <p className=\"text-xs font-medium text-gray-500 mb-1\">Боловсруулах хугацаа</p>\n              <p className=\"text-sm font-semibold text-gray-900\">0.82s</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Form Fields */}\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor={`plate-${direction}`} className=\"text-sm font-medium text-gray-700\">\n              Улсын дугаар\n            </Label>\n            <Input\n              id={`plate-${direction}`}\n              value={plate}\n              onChange={(e) => setPlate(e.target.value)}\n              className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n              placeholder=\"Улсын дугаар оруулах\"\n            />\n            {errors.plate && (\n              <p className=\"mt-1 text-xs text-red-600\">{errors.plate}</p>\n            )}\n          </div>\n\n          {/* 3. IN weight input (manual for now) */}\n          <div>\n            <Label htmlFor={`weight-${direction}`} className=\"text-sm font-medium text-gray-700\">\n              {weightLabel}\n            </Label>\n            <Input\n              id={`weight-${direction}`}\n              type=\"number\"\n              value={weight}\n              onChange={(e) => handleFieldChange(setWeight, e.target.value)}\n              className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n              placeholder=\"Жин (кг) оруулах\"\n            />\n            {errors.weight && (\n              <p className=\"mt-1 text-xs text-red-600\">{errors.weight}</p>\n            )}\n          </div>\n\n          {/* 4. Transport company dropdown + \"Add New\" */}\n          <div>\n            <Label htmlFor={`transport-company-${direction}`} className=\"text-sm font-medium text-gray-700 mb-2 block\">\n              Тээврийн компани\n            </Label>\n            <div className=\"flex gap-2 items-center\">\n              <FilterableSelect\n                options={transportCompanies.map((company) => ({\n                  value: company.id,\n                  label: company.name,\n                }))}\n                value={transportCompanyId}\n                onValueChange={(value) => {\n                  handleFieldChange(setTransportCompanyId, value)\n                  setTransportCompanyId(value)\n                }}\n                disabled={isLoadingCompanies}\n                placeholder={isLoadingCompanies ? \"Уншиж байна...\" : \"Тээврийн компани сонгох\"}\n                searchPlaceholder=\"Тээврийн компани хайх...\"\n                className=\"flex-1\"\n              />\n              <TransportCompanyManager companies={transportCompanies} onCompanyAdded={handleCompanyAdded} />\n            </div>\n          </div>\n\n          {/* 5. Route fields (Haanaas & Haashaa) */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <Label htmlFor={`origin-${direction}`} className=\"text-sm font-medium text-gray-700\">\n                Хаанаас\n              </Label>\n              <Input\n                id={`origin-${direction}`}\n                value={origin}\n                onChange={(e) => handleFieldChange(setOrigin, e.target.value)}\n                className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n                placeholder=\"Гарах газар\"\n              />\n            </div>\n            <div>\n              <Label htmlFor={`destination-${direction}`} className=\"text-sm font-medium text-gray-700\">\n                Хаашаа\n              </Label>\n              <Input\n                id={`destination-${direction}`}\n                value={destination}\n                onChange={(e) => handleFieldChange(setDestination, e.target.value)}\n                className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n                placeholder=\"Очих газар\"\n              />\n            </div>\n          </div>\n\n          {/* 6. Product type dropdown + \"Add New\" */}\n          <div>\n            <Label htmlFor={`cargo-${direction}`} className=\"text-sm font-medium text-gray-700 mb-2 block\">\n              Бүтээгдэхүүн\n            </Label>\n            <div className=\"flex gap-2 items-center\">\n              <FilterableSelect\n                options={products.map((product: Product) => ({\n                  value: product.value,\n                  label: product.label,\n                }))}\n                value={cargoType}\n                onValueChange={(value) => handleFieldChange(setCargoType, value)}\n                disabled={isLoadingProducts}\n                placeholder={isLoadingProducts ? \"Уншиж байна...\" : \"Бүтээгдэхүүн сонгох\"}\n                searchPlaceholder=\"Бүтээгдэхүүн хайх...\"\n                className=\"flex-1\"\n              />\n              <ProductManager products={products} onProductAdded={handleProductAdded} />\n            </div>\n            {errors.cargoType && (\n              <p className=\"mt-1 text-xs text-red-600\">{errors.cargoType}</p>\n            )}\n          </div>\n\n          {/* 7. Sender/Receiver dropdowns + add/edit */}\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor={`sender-${direction}`} className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                Илгээч байгууллага\n              </Label>\n              <div className=\"flex gap-2 items-center\">\n                <FilterableSelect\n                  options={senderOrganizations.map((org) => ({\n                    value: org.id,\n                    label: org.name,\n                  }))}\n                  value={senderOrganizationId}\n                  onValueChange={(value) => {\n                    handleFieldChange(setSenderOrganizationId, value)\n                    setSenderOrganizationId(value)\n                  }}\n                  disabled={isLoadingOrganizations}\n                  placeholder={isLoadingOrganizations ? \"Уншиж байна...\" : \"Илгээч байгууллага сонгох\"}\n                  searchPlaceholder=\"Илгээч байгууллага хайх...\"\n                  className=\"flex-1\"\n                />\n                <OrganizationManager\n                  organizations={senderOrganizations}\n                  type=\"sender\"\n                  onOrganizationAdded={handleSenderOrganizationAdded}\n                  onOrganizationUpdated={handleSenderOrganizationAdded}\n                />\n              </div>\n            </div>\n            <div>\n              <Label htmlFor={`receiver-${direction}`} className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                Хүлээн авагч байгууллага\n              </Label>\n              <div className=\"flex gap-2 items-center\">\n                <FilterableSelect\n                  options={receiverOrganizations.map((org) => ({\n                    value: org.id,\n                    label: org.name,\n                  }))}\n                  value={receiverOrganizationId}\n                  onValueChange={(value) => {\n                    handleFieldChange(setReceiverOrganizationId, value)\n                    setReceiverOrganizationId(value)\n                  }}\n                  disabled={isLoadingOrganizations}\n                  placeholder={isLoadingOrganizations ? \"Уншиж байна...\" : \"Хүлээн авагч байгууллага сонгох\"}\n                  searchPlaceholder=\"Хүлээн авагч байгууллага хайх...\"\n                  className=\"flex-1\"\n                />\n                <OrganizationManager\n                  organizations={receiverOrganizations}\n                  type=\"receiver\"\n                  onOrganizationAdded={handleReceiverOrganizationAdded}\n                  onOrganizationUpdated={handleReceiverOrganizationAdded}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* 8. Driver registration & selection */}\n          <div>\n            <Label htmlFor={`driver-${direction}`} className=\"text-sm font-medium text-gray-700 mb-2 block\">\n              Жолооч\n            </Label>\n            <div className=\"flex gap-2 items-center\">\n              <FilterableSelect\n                options={drivers.map((driver) => ({\n                  value: driver.id,\n                  label: `${driver.name}${driver.licenseNumber ? ` (${driver.licenseNumber})` : \"\"}`,\n                }))}\n                value={driverId}\n                onValueChange={(value) => {\n                  const selectedDriver = drivers.find(d => d.id === value)\n                  setDriverId(value)\n                  setDriverName(selectedDriver?.name || \"\")\n                  handleFieldChange(() => {}, value)\n                }}\n                disabled={isLoadingDrivers}\n                placeholder={isLoadingDrivers ? \"Уншиж байна...\" : driverName || \"Жолооч сонгох\"}\n                searchPlaceholder=\"Жолооч хайх...\"\n                className=\"flex-1\"\n              />\n              <DriverManager drivers={drivers} onDriverAdded={handleDriverAdded} onDriverUpdated={handleDriverAdded} />\n            </div>\n            {!driverId && (\n              <Input\n                id={`driver-manual-${direction}`}\n                value={driverName}\n                onChange={(e) => handleFieldChange(setDriverName, e.target.value)}\n                className=\"mt-2 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n                placeholder=\"Эсвэл жолоочийн нэрийг гараар оруулах\"\n              />\n            )}\n            {errors.driverName && (\n              <p className=\"mt-1 text-xs text-red-600\">{errors.driverName}</p>\n            )}\n          </div>\n\n          {/* 9. Seal number input - only show for OUT direction */}\n          {direction === \"OUT\" && (\n            <div>\n              <Label htmlFor={`seal-${direction}`} className=\"text-sm font-medium text-gray-700\">\n                Лацны дугаар\n              </Label>\n              <Input\n                id={`seal-${direction}`}\n                value={sealNumber}\n                onChange={(e) => handleFieldChange(setSealNumber, e.target.value)}\n                className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n                placeholder=\"Лацны дугаар оруулах\"\n              />\n            </div>\n          )}\n\n          {/* 10. Transport type dropdown */}\n          <div>\n            <Label htmlFor={`transport-type-${direction}`} className=\"text-sm font-medium text-gray-700\">\n              Тээврийн төрөл\n            </Label>\n            <Select\n              value={transportType}\n              onValueChange={(value) => {\n                const transportTypeValue = value as TransportType\n                setTransportType(transportTypeValue)\n                if (savedLogId) {\n                  setSavedLogId(null)\n                }\n              }}\n            >\n              <SelectTrigger className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\">\n                <SelectValue placeholder=\"Тээврийн төрөл сонгох\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"truck\">Truck</SelectItem>\n                <SelectItem value=\"container\">Container</SelectItem>\n                <SelectItem value=\"tanker\">Tanker</SelectItem>\n                <SelectItem value=\"flatbed\">Flatbed</SelectItem>\n                <SelectItem value=\"refrigerated\">Refrigerated</SelectItem>\n                <SelectItem value=\"other\">Other</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* 11. Chirguultei checkbox (show/hide trailer fields) */}\n          <div className=\"flex items-center space-x-2\">\n            <Checkbox\n              id={`has-trailer-${direction}`}\n              checked={hasTrailer}\n              onCheckedChange={(checked) => {\n                setHasTrailer(checked === true)\n                if (!checked) {\n                  setTrailerPlate(\"\")\n                }\n              }}\n            />\n            <Label\n              htmlFor={`has-trailer-${direction}`}\n              className=\"text-sm font-medium text-gray-700 cursor-pointer\"\n            >\n              Чиргүүлтэй\n            </Label>\n          </div>\n\n          {/* Trailer fields (shown when hasTrailer is true) */}\n          {hasTrailer && (\n            <div>\n              <Label htmlFor={`trailer-plate-${direction}`} className=\"text-sm font-medium text-gray-700\">\n                Чиргүүлийн улсын дугаар\n              </Label>\n              <Input\n                id={`trailer-plate-${direction}`}\n                value={trailerPlate}\n                onChange={(e) => handleFieldChange(setTrailerPlate, e.target.value)}\n                className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n                placeholder=\"Чиргүүлийн улсын дугаар\"\n              />\n            </div>\n          )}\n\n          {/* 12. Additional notes textarea */}\n          <div>\n            <Label htmlFor={`comments-${direction}`} className=\"text-sm font-medium text-gray-700\">\n              Нэмэлт\n            </Label>\n            <Textarea\n              id={`comments-${direction}`}\n              value={comments}\n              onChange={(e) => handleFieldChange(setComments, e.target.value)}\n              className=\"mt-1 bg-white border-gray-300 focus:border-blue-500 focus:ring-blue-500\"\n              placeholder=\"Нэмэлт мэдээлэл...\"\n              rows={3}\n            />\n          </div>\n\n          \n\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-3 pt-2\">\n          <Button\n            variant=\"outline\"\n            onClick={handleSave}\n            disabled={isSaving}\n            className=\"flex-1 border-gray-300 hover:bg-gray-50\"\n          >\n            {isSaving ? (\n              <>\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                Хадгалж байна...\n              </>\n            ) : (\n              \"Хадгалах\"\n            )}\n          </Button>\n          <Button\n            onClick={handleSend}\n            disabled={!savedLogId || isSending}\n            className=\"flex-1 bg-blue-600 text-white hover:bg-blue-700\"\n          >\n            {isSending ? (\n              <>\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                Илгээж байна...\n              </>\n            ) : (\n              \"Гаалид илгээх\"\n            )}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\n","'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Truck } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface UserInfo {\n  name: string\n  role: string\n  companyName?: string\n}\n\nexport function Sidebar() {\n  const [companyName, setCompanyName] = useState<string>(\"XP Agency\")\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    async function loadCompanyName() {\n      try {\n        const response = await fetch(\"/api/user\")\n        if (response.ok) {\n          const data: UserInfo = await response.json()\n          if (data.companyName) {\n            setCompanyName(data.companyName)\n          }\n        }\n      } catch (error) {\n        console.error(\"Error loading company name:\", error)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadCompanyName()\n  }, [])\n\n  return (\n    <aside className=\"w-64 bg-white border-r border-gray-200 flex flex-col\">\n      <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center\">\n            <Truck className=\"w-6 h-6 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-lg font-semibold text-gray-900\">\n              {isLoading ? \"Loading...\" : companyName}\n            </h1>\n            <p className=\"text-xs text-gray-500\">Logistics Platform</p>\n          </div>\n        </div>\n      </div>\n\n      <nav className=\"flex-1 p-4\">\n        <ul className=\"space-y-2\">\n          <li>\n            <a\n              href=\"#\"\n              className={cn(\n                \"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm\",\n                \"bg-blue-50 text-blue-700 font-medium\"\n              )}\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n              </svg>\n              Dashboard\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </aside>\n  )\n}\n\n","\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Send, Search, Edit, FileDown } from \"lucide-react\"\nimport { EditLogDialog } from \"@/components/history/EditLogDialog\"\nimport { exportLogToPDF } from \"@/lib/pdf-export\"\nimport type { TruckLog, Direction } from \"@/lib/types\"\nimport { sendTruckLogToCustoms } from \"@/lib/api\"\nimport { useToast } from \"@/hooks/use-toast\"\n\ninterface TruckTableProps {\n  logs: TruckLog[]\n  onSend: (logId: string) => void\n  onUpdate?: () => void\n}\n\nexport function TruckTable({ logs, onSend, onUpdate }: TruckTableProps) {\n  const { toast } = useToast()\n  const [directionFilter, setDirectionFilter] = useState<Direction | \"ALL\">(\"ALL\")\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [sendingIds, setSendingIds] = useState<Set<string>>(new Set())\n  const [editingLog, setEditingLog] = useState<TruckLog | null>(null)\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\n\n  const handleEdit = (log: TruckLog) => {\n    setEditingLog(log)\n    setIsEditDialogOpen(true)\n  }\n\n  const handleEditSuccess = () => {\n    setIsEditDialogOpen(false)\n    setEditingLog(null)\n    if (onUpdate) {\n      onUpdate()\n    }\n  }\n\n  const filteredLogs = logs.filter((log) => {\n    const matchesDirection = directionFilter === \"ALL\" || log.direction === directionFilter\n    const matchesSearch = searchQuery === \"\" || \n      log.plate.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      log.driverName.toLowerCase().includes(searchQuery.toLowerCase())\n    return matchesDirection && matchesSearch\n  })\n\n  const handleResend = async (log: TruckLog) => {\n    if (log.sentToCustoms) return\n\n    setSendingIds((prev) => new Set(prev).add(log.id))\n    try {\n      const result = await sendTruckLogToCustoms(log.id)\n      \n      if (result.success) {\n        onSend(log.id)\n        toast({\n          title: \"Success\",\n          description: \"Data successfully sent to Mongolian Customs\",\n        })\n      } else {\n        toast({\n          title: \"Error\",\n          description: result.error || \"Failed to send to customs\",\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to send to customs\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setSendingIds((prev) => {\n        const next = new Set(prev)\n        next.delete(log.id)\n        return next\n      })\n    }\n  }\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString(\"en-US\", {\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  return (\n    <Card className=\"border-gray-200 bg-white\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between mb-4\">\n          <CardTitle className=\"text-lg font-semibold text-gray-900\">Truck Log History</CardTitle>\n        </div>\n        \n        {/* Filters */}\n        <div className=\"flex flex-col sm:flex-row gap-3\">\n          <div className=\"relative flex-1 max-w-md\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <Input\n              placeholder=\"Search by plate or driver name...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10 bg-gray-50 border-gray-300 focus:bg-white focus:border-blue-500\"\n            />\n          </div>\n          <Select value={directionFilter} onValueChange={(value) => setDirectionFilter(value as Direction | \"ALL\")}>\n            <SelectTrigger className=\"w-full sm:w-[180px] bg-white border-gray-300\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"ALL\">All Directions</SelectItem>\n              <SelectItem value=\"IN\">IN Only</SelectItem>\n              <SelectItem value=\"OUT\">OUT Only</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {filteredLogs.length === 0 ? (\n          <div className=\"text-center py-12 text-gray-500\">\n            <p>No truck logs found</p>\n          </div>\n        ) : (\n          <div className=\"rounded-lg border border-gray-200 overflow-hidden\">\n            <Table>\n              <TableHeader>\n                <TableRow className=\"bg-gray-50\">\n                  <TableHead className=\"text-gray-700 font-semibold\">Direction</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Plate</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Driver</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Бүтээгдэхүүн</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Weight (kg)</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Хаанаас</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Хаашаа</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Created At</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Status</TableHead>\n                  <TableHead className=\"text-gray-700 font-semibold\">Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {filteredLogs.map((log) => (\n                  <TableRow key={log.id} className=\"hover:bg-gray-50\">\n                    <TableCell>\n                      <Badge\n                        variant=\"outline\"\n                        className={\n                          log.direction === \"IN\"\n                            ? \"bg-blue-50 text-blue-700 border-blue-200\"\n                            : \"bg-orange-50 text-orange-700 border-orange-200\"\n                        }\n                      >\n                        {log.direction}\n                      </Badge>\n                    </TableCell>\n                    <TableCell className=\"font-mono font-semibold text-gray-900\">\n                      {log.plate}\n                    </TableCell>\n                    <TableCell className=\"text-gray-700\">{log.driverName}</TableCell>\n                    <TableCell className=\"text-gray-700 capitalize\">{log.cargoType}</TableCell>\n                    <TableCell className=\"text-gray-700 font-medium\">\n                      {log.weightKg?.toLocaleString() || \"N/A\"}\n                    </TableCell>\n                    <TableCell className=\"text-gray-700 text-sm\">\n                      {log.origin || \"—\"}\n                    </TableCell>\n                    <TableCell className=\"text-gray-700 text-sm\">\n                      {log.destination || \"—\"}\n                    </TableCell>\n                    <TableCell className=\"text-gray-600 text-sm\">{formatDate(log.createdAt)}</TableCell>\n                    <TableCell>\n                      {log.sentToCustoms ? (\n                        <Badge className=\"bg-green-50 text-green-700 border-green-200\">\n                          Sent to Customs\n                        </Badge>\n                      ) : (\n                        <Badge variant=\"outline\" className=\"bg-amber-50 text-amber-700 border-amber-200\">\n                          Saved only\n                        </Badge>\n                      )}\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex items-center gap-2\">\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => handleEdit(log)}\n                          disabled={log.sentToCustoms}\n                          title={log.sentToCustoms ? \"Cannot edit logs sent to customs\" : \"Edit log\"}\n                          className=\"border-gray-300 hover:bg-gray-50\"\n                        >\n                          <Edit className=\"w-3.5 h-3.5 mr-1.5\" />\n                          Edit\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={async () => {\n                            try {\n                              await exportLogToPDF(log)\n                            } catch (error) {\n                              console.error(\"Error exporting PDF:\", error)\n                            }\n                          }}\n                          title=\"Export to PDF\"\n                          className=\"border-gray-300 hover:bg-gray-50\"\n                        >\n                          <FileDown className=\"w-3.5 h-3.5 mr-1.5\" />\n                          PDF\n                        </Button>\n                        {!log.sentToCustoms && (\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => handleResend(log)}\n                            disabled={sendingIds.has(log.id)}\n                            className=\"border-gray-300 hover:bg-gray-50\"\n                          >\n                            {sendingIds.has(log.id) ? (\n                              \"Sending...\"\n                            ) : (\n                              <>\n                                <Send className=\"w-3.5 h-3.5 mr-1.5\" />\n                                Resend\n                              </>\n                            )}\n                          </Button>\n                        )}\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n        )}\n      </CardContent>\n\n      <EditLogDialog\n        log={editingLog}\n        open={isEditDialogOpen}\n        onOpenChange={setIsEditDialogOpen}\n        onSuccess={handleEditSuccess}\n      />\n    </Card>\n  )\n}\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n]);\n\nexport default Send;\n"],"names":[],"mappings":"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","ignoreList":[8]}