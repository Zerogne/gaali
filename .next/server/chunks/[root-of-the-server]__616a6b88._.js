module.exports=[18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},81769,(e,t,r)=>{t.exports=e.x("mongodb",()=>require("mongodb"))},42315,(e,t,r)=>{"use strict";t.exports=e.r(18622)},90793,e=>{"use strict";let t;var r=e.i(81769);if(!process.env.MONGODB_URI)throw Error('Invalid/Missing environment variable: "MONGODB_URI"');let a=process.env.MONGODB_URI;async function o(){return(await t).db(process.env.MONGODB_DB_NAME||"truck-weighing-dashboard")}t=new r.MongoClient(a,{}).connect(),e.s(["getDatabase",()=>o])},97953,(e,t,r)=>{"use strict";t.exports=e.r(42315).vendored["react-rsc"].ReactServerDOMTurbopackServer},45015,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"registerServerReference",{enumerable:!0,get:function(){return a.registerServerReference}});let a=e.r(97953)},95975,(e,t,r)=>{"use strict";function a(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureServerEntryExports",{enumerable:!0,get:function(){return a}})},46572,e=>{"use strict";var t=e.i(90793);async function r(e,r){if(!e||!r)throw Error("companyId and collectionName are required");let a=await (0,t.getDatabase)(),o=`company_${e}_${r}`;return a.collection(o)}async function a(){return(await (0,t.getDatabase)()).collection("companies")}async function o(e){for(let t of["logs","workers","sessions","settings","products"]){let a=await r(e,t);"logs"===t?(await a.createIndex({createdAt:-1}),await a.createIndex({direction:1}),await a.createIndex({sentToCustoms:1}),await a.createIndex({plate:1})):"workers"===t?(await a.createIndex({companyId:1}),await a.createIndex({id:1},{unique:!0})):"sessions"===t?(await a.createIndex({workerId:1}),await a.createIndex({createdAt:-1})):"products"===t&&(await a.createIndex({value:1},{unique:!0}),await a.createIndex({isCustom:1}))}}e.s(["ensureCompanyCollections",()=>o,"getCompaniesCollection",()=>a,"getCompanyCollection",()=>r])},54799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},93834,e=>{"use strict";var t=e.i(47909),r=e.i(74017),a=e.i(96250),o=e.i(59756),n=e.i(61916),s=e.i(14444),i=e.i(37092),l=e.i(69741),d=e.i(16795),c=e.i(87718),p=e.i(95169),u=e.i(47587),g=e.i(66012),w=e.i(70101),m=e.i(26937),f=e.i(10372),v=e.i(93695);e.i(52474);var y=e.i(220),h=e.i(89171),x=e.i(45015),b=e.i(49632),C=e.i(46572);let R=[{id:"altan-logistics",name:"Altan Logistics LLC",description:"Border checkpoint #3",logoInitials:"AL"},{id:"steppe-mining",name:"Steppe Mining Co.",description:"Mining operations hub",logoInitials:"SM"},{id:"blueroad-transport",name:"BlueRoad Transport",description:"Main transport terminal",logoInitials:"BR"},{id:"frontier-customs",name:"Frontier Customs Partner",description:"Customs processing center",logoInitials:"FC"}],I=[{id:"worker-altan-1",name:"Ð‘Ð°ÑÑ€Ð¼Ð°Ð° Ð“Ð°Ð½Ð±Ð°Ñ‚",role:"Gate Operator",avatarColor:"bg-blue-500",companyId:"altan-logistics"},{id:"worker-altan-2",name:"Ð­Ð½Ñ…Ð±Ð°Ñ‚ Ð”Ð¾Ñ€Ð¶",role:"Supervisor",avatarColor:"bg-green-500",companyId:"altan-logistics"},{id:"worker-altan-3",name:"Ð¦ÑÑ†ÑÐ³Ð¼Ð°Ð° Ð‘Ð°Ñ‚",role:"Data Entry",avatarColor:"bg-purple-500",companyId:"altan-logistics"},{id:"worker-steppe-1",name:"Ð‘Ð°Ñ‚Ð±Ð°ÑÑ€ ÐœÓ©Ð½Ñ…",role:"Gate Operator",avatarColor:"bg-orange-500",companyId:"steppe-mining"},{id:"worker-steppe-2",name:"Ð¡Ð°Ñ€Ð°Ð° ÐžÑ‡Ð¸Ñ€",role:"Supervisor",avatarColor:"bg-red-500",companyId:"steppe-mining"},{id:"worker-steppe-3",name:"Ð“Ð°Ð½Ð±Ð°Ñ‚ ÐÐ°Ñ€Ð°Ð½",role:"Security Officer",avatarColor:"bg-indigo-500",companyId:"steppe-mining"},{id:"worker-blueroad-1",name:"Ð”Ð¾Ñ€Ð¶ Ð‘Ð°Ñ‚",role:"Gate Operator",avatarColor:"bg-teal-500",companyId:"blueroad-transport"},{id:"worker-blueroad-2",name:"ÐœÓ©Ð½Ñ…Ð±Ð°Ñ‚ Ð¦Ð¾Ð³Ñ‚",role:"Supervisor",avatarColor:"bg-cyan-500",companyId:"blueroad-transport"},{id:"worker-blueroad-3",name:"ÐžÑŽÑƒÐ½Ð±Ð°Ñ‚ Ð“Ð°Ð½",role:"Data Entry",avatarColor:"bg-pink-500",companyId:"blueroad-transport"},{id:"worker-frontier-1",name:"Ð‘Ð°Ñ‚Ð±Ð°ÑÑ€ Ð­Ð½Ñ…",role:"Gate Operator",avatarColor:"bg-yellow-500",companyId:"frontier-customs"},{id:"worker-frontier-2",name:"Ð¦ÑÑ†ÑÐ³ ÐžÑ‡Ð¸Ñ€",role:"Supervisor",avatarColor:"bg-amber-500",companyId:"frontier-customs"},{id:"worker-frontier-3",name:"Ð“Ð°Ð½Ð±Ð°Ñ‚ ÐœÓ©Ð½Ñ…",role:"Customs Officer",avatarColor:"bg-lime-500",companyId:"frontier-customs"}],E={"altan-logistics":"password123","steppe-mining":"password123","blueroad-transport":"password123","frontier-customs":"password123"},k={"worker-altan-1":"password123","worker-altan-2":"password123","worker-altan-3":"password123","worker-steppe-1":"password123","worker-steppe-2":"password123","worker-steppe-3":"password123","worker-blueroad-1":"password123","worker-blueroad-2":"password123","worker-blueroad-3":"password123","worker-frontier-1":"password123","worker-frontier-2":"password123","worker-frontier-3":"password123"};async function O(){let e=await (0,C.getCompaniesCollection)();for(let t of R){let r=E[t.id]||"password123",a=await b.default.hash(r,10),o={companyId:t.id,name:t.name,description:t.description,logoInitials:t.logoInitials,password:a,createdAt:new Date,updatedAt:new Date};await e.updateOne({companyId:t.id},{$set:o},{upsert:!0})}console.log("âœ… Companies metadata seeded with hashed passwords")}async function S(){let e=new Map;for(let t of I)e.has(t.companyId)||e.set(t.companyId,[]),e.get(t.companyId).push(t);for(let[t,r]of e){let e=await (0,C.getCompanyCollection)(t,"workers");for(let t of r){let r=k[t.id]||"password123",a=await b.default.hash(r,10),o={...t,password:a};await e.updateOne({id:t.id},{$set:o},{upsert:!0})}console.log(`âœ… Workers seeded for company: ${t} (passwords hashed)`)}}async function A(){let e="altan-logistics",t="steppe-mining",r=[{id:`log-${e}-1`,direction:"IN",plate:"Ð‘1234ÐÐ’",driverName:"Ð‘Ð°ÑÑ€Ð¼Ð°Ð° Ð“Ð°Ð½Ð±Ð°Ñ‚",cargoType:"industrial",weightKg:24500,origin:"Ð£Ð»Ð°Ð°Ð½Ð±Ð°Ð°Ñ‚Ð°Ñ€",destination:"Ð—Ð°Ð¼Ñ‹Ð½-Ò®Ò¯Ð´",createdAt:new Date(Date.now()-864e5).toISOString(),sentToCustoms:!0},{id:`log-${e}-2`,direction:"OUT",plate:"Ð‘5678Ð¦Ð¦",driverName:"Ð­Ð½Ñ…Ð±Ð°Ñ‚ Ð”Ð¾Ñ€Ð¶",cargoType:"food",weightKg:12e3,origin:"Ð—Ð°Ð¼Ñ‹Ð½-Ò®Ò¯Ð´",destination:"Ð£Ð»Ð°Ð°Ð½Ð±Ð°Ð°Ñ‚Ð°Ñ€",createdAt:new Date(Date.now()-36e5).toISOString(),sentToCustoms:!1}],a=[{id:`log-${t}-1`,direction:"IN",plate:"Ð‘9999Ð—Ð—",driverName:"Ð‘Ð°Ñ‚Ð±Ð°ÑÑ€ ÐœÓ©Ð½Ñ…",cargoType:"construction",weightKg:3e4,origin:"Ð”Ð°Ñ€Ñ…Ð°Ð½",destination:"Ð­Ñ€Ð´ÑÐ½ÑÑ‚",createdAt:new Date(Date.now()-72e5).toISOString(),sentToCustoms:!0},{id:`log-${t}-2`,direction:"OUT",plate:"Ð‘1111ÐÐ",driverName:"Ð¡Ð°Ñ€Ð°Ð° ÐžÑ‡Ð¸Ñ€",cargoType:"machinery",weightKg:18e3,origin:"Ð­Ñ€Ð´ÑÐ½ÑÑ‚",destination:"Ð”Ð°Ñ€Ñ…Ð°Ð½",createdAt:new Date(Date.now()-18e5).toISOString(),sentToCustoms:!1}],o=await (0,C.getCompanyCollection)(e,"logs");for(let e of r)await o.updateOne({id:e.id},{$set:e},{upsert:!0});let n=await (0,C.getCompanyCollection)(t,"logs");for(let e of a)await n.updateOne({id:e.id},{$set:e},{upsert:!0});console.log("âœ… Sample truck logs seeded")}async function T(){for(let e of(console.log("ðŸŒ± Starting database seeding..."),R))await (0,C.ensureCompanyCollections)(e.id);await O(),await S(),await A(),console.log("âœ… Database seeding completed!")}async function D(){try{return console.log("Starting database seed..."),await T(),console.log("Database seeded successfully"),h.NextResponse.json({success:!0,message:"Database seeded successfully",note:"All companies use password: password123"})}catch(e){return console.error("Seeding error:",e),h.NextResponse.json({success:!1,error:"Failed to seed database",details:e instanceof Error?e.message:String(e)},{status:500})}}(0,e.i(95975).ensureServerEntryExports)([O,S,A,T]),(0,x.registerServerReference)(O,"005d867a05c5d60d78273700a82adf9df2da65527e",null),(0,x.registerServerReference)(S,"00e8a9c625019f1051b9e964a9741cc6815105c837",null),(0,x.registerServerReference)(A,"00c8f1cfdbbf6bb4e803d7ec4008fcd144d6ecbc15",null),(0,x.registerServerReference)(T,"00f39da92c168ed94e2d7232c0d32ed898b90e6e77",null),e.s(["POST",()=>D],34359);var N=e.i(34359);let _=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/seed/route",pathname:"/api/seed",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/seed/route.ts",nextConfigOutput:"",userland:N}),{workAsyncStorage:M,workUnitAsyncStorage:P,serverHooks:j}=_;function q(){return(0,a.patchFetch)({workAsyncStorage:M,workUnitAsyncStorage:P})}async function U(e,t,a){_.isDev&&(0,o.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let h="/api/seed/route";h=h.replace(/\/index$/,"")||"/";let x=await _.prepare(e,t,{srcPage:h,multiZoneDraftMode:!1});if(!x)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:b,params:C,nextConfig:R,parsedUrl:I,isDraftMode:E,prerenderManifest:k,routerServerContext:O,isOnDemandRevalidate:S,revalidateOnlyGenerated:A,resolvedPathname:T,clientReferenceManifest:D,serverActionsManifest:N}=x,M=(0,l.normalizeAppPath)(h),P=!!(k.dynamicRoutes[M]||k.routes[T]),j=async()=>((null==O?void 0:O.render404)?await O.render404(e,t,I,!1):t.end("This page could not be found"),null);if(P&&!E){let e=!!k.routes[T],t=k.dynamicRoutes[M];if(t&&!1===t.fallback&&!e){if(R.experimental.adapterPath)return await j();throw new v.NoFallbackError}}let q=null;!P||_.isDev||E||(q="/index"===(q=T)?"/":q);let U=!0===_.isDev||!P,$=P&&!U;N&&D&&(0,s.setReferenceManifestsSingleton)({page:h,clientReferenceManifest:D,serverActionsManifest:N,serverModuleMap:(0,i.createServerModuleMap)({serverActionsManifest:N})});let H=e.method||"GET",B=(0,n.getTracer)(),K=B.getActiveScopeSpan(),F={params:C,prerenderManifest:k,renderOpts:{experimental:{authInterrupts:!!R.experimental.authInterrupts},cacheComponents:!!R.cacheComponents,supportsDynamicResponse:U,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:R.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a)=>_.onRequestError(e,t,a,O)},sharedContext:{buildId:b}},G=new d.NodeNextRequest(e),L=new d.NodeNextResponse(t),X=c.NextRequestAdapter.fromNodeNextRequest(G,(0,c.signalFromNodeResponse)(t));try{let s=async e=>_.handle(X,F).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=B.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==p.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${H} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${H} ${h}`)}),i=!!(0,o.getRequestMeta)(e,"minimalMode"),l=async o=>{var n,l;let d=async({previousCacheEntry:r})=>{try{if(!i&&S&&A&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await s(o);e.fetchMetrics=F.renderOpts.fetchMetrics;let l=F.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let d=F.renderOpts.collectedTags;if(!P)return await (0,g.sendResponse)(G,L,n,F.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,w.toNodeOutgoingHttpHeaders)(n.headers);d&&(t[f.NEXT_CACHE_TAGS_HEADER]=d),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==F.renderOpts.collectedRevalidate&&!(F.renderOpts.collectedRevalidate>=f.INFINITE_CACHE)&&F.renderOpts.collectedRevalidate,a=void 0===F.renderOpts.collectedExpire||F.renderOpts.collectedExpire>=f.INFINITE_CACHE?void 0:F.renderOpts.collectedExpire;return{value:{kind:y.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await _.onRequestError(e,t,{routerKind:"App Router",routePath:h,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:$,isOnDemandRevalidate:S})},O),t}},c=await _.handleResponse({req:e,nextConfig:R,cacheKey:q,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:k,isRoutePPREnabled:!1,isOnDemandRevalidate:S,revalidateOnlyGenerated:A,responseGenerator:d,waitUntil:a.waitUntil,isMinimalMode:i});if(!P)return null;if((null==c||null==(n=c.value)?void 0:n.kind)!==y.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(l=c.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",S?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),E&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let p=(0,w.fromNodeOutgoingHttpHeaders)(c.value.headers);return i&&P||p.delete(f.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||p.get("Cache-Control")||p.set("Cache-Control",(0,m.getCacheControlHeader)(c.cacheControl)),await (0,g.sendResponse)(G,L,new Response(c.value.body,{headers:p,status:c.value.status||200})),null};K?await l(K):await B.withPropagatedContext(e.headers,()=>B.trace(p.BaseServerSpan.handleRequest,{spanName:`${H} ${h}`,kind:n.SpanKind.SERVER,attributes:{"http.method":H,"http.target":e.url}},l))}catch(t){if(t instanceof v.NoFallbackError||await _.onRequestError(e,t,{routerKind:"App Router",routePath:M,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:$,isOnDemandRevalidate:S})}),P)throw t;return await (0,g.sendResponse)(G,L,new Response(null,{status:500})),null}}e.s(["handler",()=>U,"patchFetch",()=>q,"routeModule",()=>_,"serverHooks",()=>j,"workAsyncStorage",()=>M,"workUnitAsyncStorage",()=>P],93834)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__616a6b88._.js.map