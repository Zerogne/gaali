module.exports=[90894,t=>{"use strict";var e=t.i(45015),a=t.i(46572);async function n(){let t=await (0,a.getCompaniesCollection)();return(await t.find({}).sort({name:1}).toArray()).map(t=>{let{_id:e,password:a,...n}=t;return{companyId:n.companyId,name:n.name,description:n.description,logoUrl:n.logoUrl,logoInitials:n.logoInitials,createdAt:n.createdAt instanceof Date?n.createdAt.toISOString():"string"==typeof n.createdAt?n.createdAt:new Date(n.createdAt).toISOString(),updatedAt:n.updatedAt instanceof Date?n.updatedAt.toISOString():"string"==typeof n.updatedAt?n.updatedAt:new Date(n.updatedAt).toISOString()}})}async function r(t){let e=await (0,a.getCompaniesCollection)(),n=await e.findOne({companyId:t});if(!n)return null;let{_id:r,password:d,...o}=n;return{companyId:o.companyId,name:o.name,description:o.description,logoUrl:o.logoUrl,logoInitials:o.logoInitials,createdAt:o.createdAt instanceof Date?o.createdAt.toISOString():"string"==typeof o.createdAt?o.createdAt:new Date(o.createdAt).toISOString(),updatedAt:o.updatedAt instanceof Date?o.updatedAt.toISOString():"string"==typeof o.updatedAt?o.updatedAt:new Date(o.updatedAt).toISOString()}}async function d(t){let e=await (0,a.getCompaniesCollection)();await e.updateOne({companyId:t.companyId},{$set:{...t,updatedAt:new Date},$setOnInsert:{createdAt:new Date}},{upsert:!0})}(0,t.i(95975).ensureServerEntryExports)([n,r,d]),(0,e.registerServerReference)(n,"000044e2524f4daa8df97680fba40e77a3c1fb1574",null),(0,e.registerServerReference)(r,"401f7e1aecefdfc5f63a8705ed71b73cd9755c7a38",null),(0,e.registerServerReference)(d,"40d001b7a6ddd887ce4154f577708fc8cc74d3671f",null),t.s(["getAllCompanies",()=>n,"getCompany",()=>r,"upsertCompany",()=>d])}];

//# sourceMappingURL=lib_companies_metadata_ts_096c6597._.js.map